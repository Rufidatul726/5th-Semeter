<html>
    <head>
        <style>
            div{
                border: 1px solid black;
                width: 33.17%;
                float: left;
                height: 40%;
                display: flex;
                flex-wrap: wrap-reverse;
                justify-content: center;
                align-items: flex-start;  
            }
            p{
                border: 1px solid black;
                width: 98%;
                height: 10%;
                float: middle;
                text-align: center;
               
            } 


        </style>
    </head>
   
    <body>
        
        <div id="div1">
            <p id="p2" >2</p>            
            <p id="p4" >4</p>           
            <p id="p3" >3</p>           
            <p id="p1" >1</p>
        </div>

        <div id="div2">
           
        </div>

        <div id="div3">
           
        </div>
        <p style="border: none; width: 98%; padding-top: 20%;"></p>

        <div id="d12" style="border: 1px solid black; width: 30%; float: left; height: 5%;"><button onclick="button12Click()">1->2</button></div>
        <div id="d23" style="border: 1px solid black; width: 30%; float: left; height: 5%;"><button onclick="button23Click()">2->3</button></div>
        <div id="d31" style="border: 1px solid black; width: 30%; float: left; height: 5%;"><button onclick="button31Click()">3->1</button></div>
        <div id="d32" style="border: 1px solid black; width: 30%; float: left; height: 5%;"><button onclick="button32Click()">3->2</button></div>
        <div id="d21" style="border: 1px solid black; width: 30%; float: left; height: 5%;"><button onclick="button21Click()">2->1</button></div>
        <div id="d13" style="border: 1px solid black; width: 30%; float: left; height: 5%;"><button onclick="button13Click()">1->3</button></div>

        <div>
            <button onclick="isSort()">Check the Result!</button>
        </div>
        <script>

            const array= [1, 2, 3, 4];
            function shuffle(array) {
                array.sort(() => Math.random() - 0.5);
                if(array[0]==1 && array[1]==2 && array[2]==3 && array[3]==4){
                    shuffle(array);
                }
                let shuffleChild=document.getElementById("div1").firstElementChild.textContent;
                let childElement= document.createElement("p");
                let childText= array[0];
                childElement.appendChild(childText);
                shuffleChild.insertBefore(childElement, shuffleChild.lastElementChild);
                console.log(shuffleChild);
            }
            function button12Click(){
                let fetchElement=document.getElementById("div1");
                let click=fetchElement.lastElementChild.textContent;
                console.log(click);
                let newElement= document.createElement("p");
                let newText= document.createTextNode(click);
                const dest= document.getElementById("div2");
                
                newElement.appendChild(newText);
                dest.insertBefore(newElement, dest.firstChild);
                // dest.appendChild(newElement);
                fetchElement.removeChild(fetchElement.lastElementChild);
            }

            function button13Click(){
                let fetchElement=document.getElementById("div1");
                let click=fetchElement.lastElementChild.textContent;
                console.log(click);
                let newElement= document.createElement("p");
                let newText= document.createTextNode(click);
                const dest= document.getElementById("div3");
                
                newElement.appendChild(newText);
                dest.insertBefore(newElement, dest.firstChild);
                // dest.appendChild(newElement);
                fetchElement.removeChild(fetchElement.lastElementChild);
            }

            function button21Click(){
                let fetchElement=document.getElementById("div2");
                let click=fetchElement.lastElementChild.textContent;
                console.log(click);
                let newElement= document.createElement("p");
                let newText= document.createTextNode(click);
                const dest= document.getElementById("div1");
                
                newElement.appendChild(newText);
                dest.insertBefore(newElement, dest.firstChild);
                // dest.appendChild(newElement);
                fetchElement.removeChild(fetchElement.lastElementChild);
            }

            function button23Click(){
                let fetchElement=document.getElementById("div2");
                let click=fetchElement.lastElementChild.textContent;
                console.log(click);
                let newElement= document.createElement("p");
                let newText= document.createTextNode(click);
                const dest= document.getElementById("div3");
                
                newElement.appendChild(newText);
                dest.insertBefore(newElement, dest.firstChild);
                // dest.appendChild(newElement);
                fetchElement.removeChild(fetchElement.lastElementChild);
            }

            function button31Click(){
                let fetchElement=document.getElementById("div3");
                let click=fetchElement.lastElementChild.textContent;
                console.log(click);
                let newElement= document.createElement("p");
                let newText= document.createTextNode(click);
                const dest= document.getElementById("div1");
                
                newElement.appendChild(newText);
                dest.insertBefore(newElement, dest.firstChild);
                // dest.appendChild(newElement);
                fetchElement.removeChild(fetchElement.lastElementChild);
            }

            function button32Click(){
                let fetchElement=document.getElementById("div3");
                let click=fetchElement.lastElementChild.textContent;
                console.log(click);
                let newElement= document.createElement("p");
                let newText= document.createTextNode(click);
                const dest= document.getElementById("div2");
                
                newElement.appendChild(newText);
                dest.insertBefore(newElement, dest.firstChild);
                // dest.appendChild(newElement);
                fetchElement.removeChild(fetchElement.lastElementChild);
            }

            function isSort(){
                let flag=1;
                let fetchElement=document.getElementById("div1");
                let child=fetchElement.childNodes;
                for(let i=0; i<4; i++){
                    console.log(child[i].textContent);
                    if(child[i].textContent==4-i){
                        flag=1;
                    }
                    else{
                        flag=0;
                        break;
                    }
                }
                
                if(flag==1){
                    alert("You Win");
                }
                else{
                    alert("You Lose");
                }
            }
            

        </script>
    </body>
</html>